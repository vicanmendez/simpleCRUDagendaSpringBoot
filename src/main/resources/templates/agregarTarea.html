<!DOCTYPE html>
<html lang="en">
<head>
  <title>Agregar tarea</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
    <div class="container">
        <h2>Ingresar nueva tarea</h2>
        <form method="post" id="myForm" action="http://localhost:8080/api/agenda">
          <div class="form-group">
            <label for="titulo">Título:</label>
            <input type="text" class="form-control" id="titulo" placeholder="Título de la tarea" name="titulo">
          </div>
          <div class="form-group">
            <label for="pwd">Descripción:</label>
            <input type="text" class="form-control" id="descripcion" placeholder="Descripción" name="descripcion">
          </div>
          <div class="form-group">
            <label for="pwd">¿Cuándo?:</label>
            <input type="date" class="form-control" id="momento"  name="momento">
          </div>
          <div class="checkbox">
            <label><input type="checkbox" name="completada" value="false"> Completada </label>
          </div>
          <button type="submit" class="btn btn-default">Enviar</button>
        </form>
      </div>

      <div class="text-info" id="demo"> </div>

      <script>
      /*
        var form = document.getElementById("myForm");
        form.addEventListener("submit", function() {
            //sacamos los datos de los campos del form
            var titulo = document.getElementById("titulo").value;
            var descripcion = document.getElementById("descripcion").value;
            var momento = document.getElementById("momento").value;
            var completada = true;
            alert(titulo + "   descri: " +descripcion + " momento: " +momento + "   completada: "+completada);

            // hacemos la POST request
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
              if (this.readyState == 4 && this.status == 200) {
                document.getElementById("demo").innerHTML = this.responseText;
              }
              
               alert(this.responseText);

            
            
            };
            xhttp.open("POST", "localhost:8080/api/agenda", true);
            xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xhttp.send("titulo="+titulo+"&descripcion="+descripcion+"&momento="+momento+"&completada="+completada);
        }) */
      </script>
      </body>
      </html>